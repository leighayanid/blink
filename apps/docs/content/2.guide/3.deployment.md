---
title: Deployment
description: Deploy Blink to production environments
---

# Deployment

Learn how to deploy Blink to various hosting platforms.

## Build for Production

Build all packages and apps for production:

```bash
npm run build
```

This will:
1. Build shared packages (`@blink/types`, `@blink/config`)
2. Build the web application with SSR
3. Generate optimized assets

The production build will be in `apps/web/.output/`

## Deploy to Railway

Blink includes Railway deployment configuration for easy deployment.

### Deploy with Railway CLI

1. Install Railway CLI:
```bash
npm install -g @railway/cli
```

2. Login to Railway:
```bash
railway login
```

3. Deploy from the project root:
```bash
railway up
```

The `railway.json` configuration handles the monorepo setup automatically.

### Environment Variables

Set these variables in your Railway project:

```env
NODE_VERSION=18
NUXT_PUBLIC_PEER_HOST=your-domain.railway.app
NUXT_PUBLIC_PEER_SECURE=true
```

::note
See [DEPLOYMENT.md](https://github.com/leighdinaya/local-share-app/blob/main/DEPLOYMENT.md) for detailed Railway setup instructions.
::

## Deploy to Vercel

Deploy the Nuxt application to Vercel:

1. Install Vercel CLI:
```bash
npm install -g vercel
```

2. Deploy from the web app directory:
```bash
cd apps/web
vercel --prod
```

3. Configure environment variables in the Vercel dashboard:
```env
NUXT_PUBLIC_PEER_HOST=your-app.vercel.app
NUXT_PUBLIC_PEER_SECURE=true
```

## Deploy to Netlify

Deploy using static site generation:

1. Build the static site:
```bash
cd apps/web
npm run generate
```

2. Deploy the `.output/public` directory:
```bash
netlify deploy --prod --dir=.output/public
```

3. Configure environment variables:
```env
NUXT_PUBLIC_PEER_HOST=your-site.netlify.app
NUXT_PUBLIC_PEER_SECURE=true
```

## Self-Host with Docker

Blink includes a Dockerfile for containerized deployment:

1. Build the Docker image:
```bash
docker build -t blink .
```

2. Run the container:
```bash
docker run -p 3000:3000 \
  -e NUXT_PUBLIC_PEER_HOST=your-domain.com \
  blink
```

### Docker Compose

Create a `docker-compose.yml`:

```yaml [docker-compose.yml]
version: '3.8'
services:
  blink:
    build: .
    ports:
      - "3000:3000"
    environment:
      - NUXT_PUBLIC_PEER_HOST=your-domain.com
      - NUXT_PUBLIC_PEER_SECURE=true
    restart: unless-stopped
```

Run with:
```bash
docker-compose up -d
```

## Configure Domain and SSL

### Set up a custom domain

After deploying, point your domain to your hosting provider:

1. Add an A record pointing to your server IP, or
2. Add a CNAME record pointing to your hosting provider

### Enable SSL/TLS

For secure WebRTC connections, you need SSL:

- **Railway/Vercel/Netlify**: SSL is automatic
- **Self-hosted**: Use Let's Encrypt with Nginx or Caddy

Example Nginx configuration:

```nginx
server {
    listen 443 ssl http2;
    server_name your-domain.com;

    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}
```

## Performance Optimization

### Enable caching

Configure caching headers for static assets in `apps/web/nuxt.config.ts`:

```typescript
export default defineNuxtConfig({
  nitro: {
    compressPublicAssets: true,
    routeRules: {
      '/_nuxt/**': { headers: { 'cache-control': 'max-age=31536000' } },
      '/images/**': { headers: { 'cache-control': 'max-age=604800' } }
    }
  }
})
```

### Use a CDN

For better global performance, serve static assets through a CDN:

1. Deploy static assets to a CDN (Cloudflare, AWS CloudFront)
2. Update the CDN URL in `nuxt.config.ts`:

```typescript
export default defineNuxtConfig({
  app: {
    cdnURL: 'https://cdn.your-domain.com'
  }
})
```

## Monitor Your Deployment

After deployment:

- **Test WebRTC connections** from multiple devices
- **Check signaling server** is accessible
- **Monitor memory usage** during transfers
- **Verify SSL certificates** are valid
- **Test cross-browser** compatibility

## Troubleshooting

### WebRTC not connecting

- Verify SSL is enabled (required for WebRTC)
- Check `NUXT_PUBLIC_PEER_HOST` matches your domain
- Ensure WebSocket connections aren't blocked

### Slow builds

Turborepo caching helps, but for CI/CD:

```bash
# Use Turborepo remote caching
turbo run build --token=$TURBO_TOKEN --team=$TURBO_TEAM
```

### Memory issues

For large file transfers, increase Node.js memory:

```bash
NODE_OPTIONS="--max-old-space-size=4096" npm run build
```

## Next Steps

- [View API Reference](/api/reference)
- [Contribute to Blink](https://github.com/leighdinaya/local-share-app)
